<!DOCTYPE html>
<html lang="en">
<head>
        <title>trilandev.com - django</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href=".././theme/css/main.css" type="text/css" />
        <link href=".././feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="trilandev.com ATOM Feed" />
        

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie.css"/>
                <script src=".././js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">

        <header id="banner" class="body">
                <h1><a href="../.">trilandev.com </a></h1>
                <nav><ul>
                
                
                
                
                
                    <li ><a href=".././category/posts.html">posts</a></li>
                
                </ul></nav>
        </header><!-- /#banner -->
                

            

        
        
            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href=".././2011/09/djangodash-afterword.html">Djangodash: послесловие</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2011-09-07T00:00:00">
                ср 07 сентября 2011
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href=".././author/Dima Kukushkin.html">Dima Kukushkin</a>
        </address>
        
<p>In <a href=".././category/posts.html">posts</a>. </p>
<p>tags: <a href=".././tag/django.html">django</a><a href=".././tag/djangodash.html">djangodash</a><a href=".././tag/djangolint.html">djangolint</a></p>


</footer><!-- /.post-info --><p>Так получилось, что об участии в <a class="reference external" href="http://djangodash.com">Djangodash</a> мы никому особо и не рассказывали.
Лично я, да и Миша с Наташей, думаю, расценивали этот конкурс, как веселое
времяпрепровождение, ну и силы попробовать, конечно, было интересно.</p>
<p>Команду планировалось назвать Losers, но что-то пошло не так, и получилось
Loosers :)))</p>
<p>Перед тем, как собраться в первый раз, каждый из нас должен был подумать насчет
идеи проекта. У меня ничего толкового не придумалось, а когда собрались, Наташа
предложила сервис, который позволяет найти неоптимальный и устаревший код в
Django приложениях и проектах. Так как больше ничего интересного в голову не
пришло, мы остановились на этой идее.</p>
<p>До участия в Djangodash мы решили потренироваться, как нам тогда казалось, на
простом проекте. Мы чуть-чуть порисовали, обсудили пару моментов и сели
&quot;кодить&quot;. В процессе мы поняли, что сильно промахнулись, решив сесть за
реализацию, не обговорив все мелочи. В какой-то момент мы все бросили и сели
заново обсуждать. В итоге большую часть кода пришлось переписывать. Это был
очень полезный урок перед конкурсом: мы начали понимать, как надо распределять
задачи, и до какой степени нужно продумать работу сервиса, чтобы таких проблем
не возникло.</p>
<p>Перед конкурсом у нас была исписана куча стикеров с задачами, и каждый
предельно ясно представлял, в каком направлении он будет работать. Наташа была
ответственная за дизайн и верстку, за мной были задачи celery и деплой с
помощью chef и fabric на VDS. Мише предстояла самая сложная задача -
анализирование кода с помощью стандартной библиотеки AST.</p>
<p>Выспавшись, мы встали в 4 утра, и сели за реализацию, забирая себе стикеры с
задачами, над которыми собирались трудиться. Сразу договорились покрывать
максимальное количество кода тестами. Часть функционала сначала просто
прототипировали, постепенно заменяя прототипы реальным кодом.</p>
<p>За все время мы столкнулись с некоторыми сложностями, связанными с Celery и
AST:</p>
<ol class="arabic simple">
<li>Celery попросту не запускалась, причиной была несовместимость последних
версий некоторых пакетов (помоему django-kombu и Celery, но я могу
ошибаться). Также, задача, в которой происходило клонирование, раздувалась
в памяти, видимо что-то вызывало утечки. Решили мы данную проблему
достаточно быстро, настроив Celery таким образом, чтобы она перезапускала
воркер после каждой отработанной задачи.</li>
<li>С AST проблемы начались после деплоя на виртуальную машину: некоторые
результаты анализа кода получались не правильными, хотя локально мы этого не
наблюдали. Заметив, что на виртуальной машине Python2.6, а на наших машинах
2.7, мы приняли решение вместо Ubuntu 10.10 использовать для деплоя Ubuntu
11.04.</li>
</ol>
<p>Искать причины некоторых проблем во время конкурса мы не стали, потому что
анализ занял бы слишком много времени.</p>
<p>По поводу дедлайна: мы не почуствовали никакого дедлайна :). Мы спокойно
прерывались, в перерывах смотрели &quot;Во все тяжкие&quot; и ели мороженку :). С субботы
на воскресение выспались. Все запустить удалось уже около 11 вечера в
воскресение. Спокойно легли спать, а с утра пошли на работу.</p>
<p>В итоге, мы допустили одну очень обидную ошибку: при клонировании репозитория,
мы не проверяли ни язык репозитория, ни его размеры. Добрые люди не пренебрегли
поставить ядро Linux на проверку, что подвесило Celery. Практически сразу после
окончания конкурса мы исправили этот косяк и запустили еще одну версию сервиса
на <a class="reference external" href="http://djangolint.com">djangolint.com</a>, где сейчас он и находится. Судьям были отправлены
уведомления о необходимости зайти на сервер и перезапустить Celery.</p>
<p>Djangodash мне запомнился тем, что было весело. Ну и победой, конечно :D</p>

                </article>
                
            </aside><!-- /#featured -->
            
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                        <ol id="posts-list" class="hfeed">
            
        
        
        
        

        
         
            
            <li><article class="hentry">    
                <header>
                        <h1><a href=".././2011/02/405-and-500-error-templates-in-debug-mode.html" rel="bookmark" title="Permalink to Шаблоны для 404 и 500 ошибок в режиме отладки">Шаблоны для 404 и 500 ошибок в режиме отладки</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-02-09T00:00:00">
                ср 09 февраля 2011
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href=".././author/Mike Yumatov.html">Mike Yumatov</a>
        </address>
        
<p>In <a href=".././category/posts.html">posts</a>. </p>
<p>tags: <a href=".././tag/django.html">django</a></p>


</footer><!-- /.post-info -->
                <p>Как известно, в режиме отладки Django по случаю 404 и 500 ошибок отдает нам
собственные страницы с полезной информацией. Но иногда очень хочется
протестировать шаблоны <tt class="docutils literal">404.html</tt> и <tt class="docutils literal">500.html</tt>. Самый простой способ это
сделать — добавить в самый низ URLConf проекта следующие строки.</p>
<p>Для Django 1.2.* и ниже:</p>
<pre class="literal-block">
if ...</pre>
                <a class="readmore" href=".././2011/02/405-and-500-error-templates-in-debug-mode.html">read more</a>
                
                </div><!-- /.entry-content -->
            </article></li>
        
        
        

        
         
            
            <li><article class="hentry">    
                <header>
                        <h1><a href=".././2011/02/django-fixtures.html" rel="bookmark" title="Permalink to Перенос данных с помощью fixtures">Перенос данных с помощью fixtures</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-02-09T00:00:00">
                ср 09 февраля 2011
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href=".././author/Dima Kukushkin.html">Dima Kukushkin</a>
        </address>
        
<p>In <a href=".././category/posts.html">posts</a>. </p>
<p>tags: <a href=".././tag/django.html">django</a></p>


</footer><!-- /.post-info -->
                <p>Иногда возникает задача перенести данные с помощью сериализованных дампов,
генерируемых командой <tt class="docutils literal">./manage.py dumpdata</tt>. При этом в дамп попадают данные
из <tt class="docutils literal">auth.models.Permission</tt> и <tt class="docutils literal">contenttypes.models.ContentType</tt>.</p>
<p>Во время синхронизации с помощью команды <tt class="docutils literal">syncdb</tt>, после создания таблиц и
прочей информации о схеме БД также происходит срабатывание хэндлеров,
подключенных к ...</p>
                <a class="readmore" href=".././2011/02/django-fixtures.html">read more</a>
                
                </div><!-- /.entry-content -->
            </article></li>
        
        
        

        
         
            
            <li><article class="hentry">    
                <header>
                        <h1><a href=".././2011/02/django-taggit-and-russian-tags.html" rel="bookmark" title="Permalink to django-taggit и русские теги">django-taggit и русские теги</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-02-04T00:00:00">
                пт 04 февраля 2011
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href=".././author/Mike Yumatov.html">Mike Yumatov</a>
        </address>
        
<p>In <a href=".././category/posts.html">posts</a>. </p>
<p>tags: <a href=".././tag/django.html">django</a><a href=".././tag/django-taggit.html">django-taggit</a></p>


</footer><!-- /.post-info -->
                <p>Существует замечательное приложение <a class="reference external" href="https://github.com/alex/django-taggit">django-taggit</a>, позволяющее быстро и просто
добавить теги к объектам на сайте. Использовать его легче некуда:</p>
<pre class="literal-block">
from django.db import models
from taggit.managers import TaggableManager

class Article(models.Model):
    # ...
    tags = TaggableManager()
</pre>
<p>Но существует небольшая проблема. При сохранении тега приложение генерирует на
основе его имени уникальный код, который ...</p>
                <a class="readmore" href=".././2011/02/django-taggit-and-russian-tags.html">read more</a>
                
                </div><!-- /.entry-content -->
            </article></li>
        
        
            
        

    
    </ol><!-- /#posts-list -->
    </section><!-- /#content -->



        <section id="extras" class="body">
        
        
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->




</body>
</html>